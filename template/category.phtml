<html lang="en">

<?php require 'components/head.phtml'; ?>

<body>

    <main>
        <form id="categoryForm" action="<?php echo BASE_URL; ?>/phone/<?php echo $brand; ?> " method="POST">
            <div class="category-element">
                <?php foreach ($category as $brand): ?>
                    <div>
                        <label for="brand"><?= $brand->brand ?></label>
                        <input type="radio" class="category-radio" name="brand" value="<?= $brand->brand ?>">
                    </div>
                <?php endforeach; ?>
                <div>
                    <label class="category-radio" for="brand">Todos</label>
                    <input type="radio" name="brand" value="">
                </div>
            </div>

            <button type="submit">Filtrar</button>

        </form>

        <article class="category-product">
            <?php foreach ($product as $element): ?>

                <div class="card">

                    <h3><?= $element->name ?></h3>

                    <p><?= $element->description ?></p>

                    <span><?= $element->price ?></span>

                    <a href="<?php echo BASE_URL; ?>/detail/<?= $element->id ?>">Detalles</a>
                </div>

            <?php endforeach ?>
        </article>

    </main>

    <?php require 'components/footer.phtml'; ?>

</body>

</html>


<script>

    const ruta = document.querySelectorAll(".category-radio");
    const form = document.getElementById("categoryForm");

    ruta.forEach((element) => {
        element.addEventListener("click", function (e) {

            const BASE_URL = "<?php echo BASE_URL ?>";

            // Obtener el valor del radio button seleccionado
            const selectedValue = e.target.value; // Usa e.target para obtener el valor del elemento que se clickeó

            console.log(selectedValue); // Para verificar qué valor se está obteniendo

            form.action = `${BASE_URL}/phone/${selectedValue}`;
        });
    });



</script>